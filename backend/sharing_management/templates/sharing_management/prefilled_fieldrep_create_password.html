{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh; background: #f8f9fa;">
  <div class="card shadow" style="width: 100%; max-width: 400px;">
    <div class="card-body p-4">
      <h4 class="text-center mb-4">Field Rep Registration</h4>
      <form method="post" autocomplete="off" id="passwordForm">
        {% csrf_token %}
        <div class="mb-3">
          <label class="form-label">Email ID:</label>
          <input type="email" class="form-control" name="email" value="{{ email }}" readonly>
        </div>
        <div class="mb-3">
          <label class="form-label">Password:</label>
          <input type="text" class="form-control" id="password" name="password" value="{{ password }}" required
            readonly>
        </div>
        <div class="row mb-3">
          <div class="col-6">
            <button type="button" class="btn btn-secondary w-100" id="useSystemPassword">Use System Password</button>
          </div>
          <div class="col-6">
            <button type="button" class="btn btn-secondary w-100" id="createYourPassword">Create Your Password</button>
          </div>
        </div>
        <div class="mb-3" id="confirmPasswordDiv" style="display:none;">
          <label class="form-label">Confirm Password:</label>
          <input type="password" class="form-control" id="confirm_password" name="confirm_password"
            placeholder="Confirm password">
        </div>
        <button type="submit" class="btn btn-primary w-100" style="background:#1877f2; border:none;">Register</button>
      </form>
    </div>
  </div>
</div>
<script>
  const useSystemBtn = document.getElementById('useSystemPassword');
  const createYourBtn = document.getElementById('createYourPassword');
  const passwordInput = document.getElementById('password');
  const confirmDiv = document.getElementById('confirmPasswordDiv');
  const confirmInput = document.getElementById('confirm_password');

  useSystemBtn.onclick = function () {
    passwordInput.readOnly = true;
    confirmDiv.style.display = 'none';
    confirmInput.required = false;
  };
  createYourBtn.onclick = function () {
    passwordInput.readOnly = false;
    passwordInput.value = '';
    confirmDiv.style.display = 'block';
    confirmInput.required = true;
  };
</script>
{% endblock %}