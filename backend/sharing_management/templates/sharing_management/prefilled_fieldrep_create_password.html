{% extends "base.html" %}
{% block title %}Create Password{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2>Create Password</h2>

  <p><strong>Email:</strong> {{ email }}</p>

  <form method="post" autocomplete="off">
    {% csrf_token %}

    <input type="hidden" name="email" value="{{ email }}">

    {% if campaign %}
      <input type="hidden" name="campaign" value="{{ campaign }}">
    {% endif %}

    <div class="mb-3">
      <label for="field_id" class="form-label">Field ID</label>
      <input
        type="text"
        class="form-control"
        id="field_id"
        name="field_id"
        value="{{ field_id|default:'' }}"
        required
      >
      <div class="form-text">Allowed: letters, numbers, dot (.), underscore (_), hyphen (-). No spaces.</div>
    </div>

    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <!-- Keep as text so generated password is visible/copyable (matches current behavior) -->
      <input
        type="text"
        class="form-control"
        id="password"
        name="password"
        value="{{ generated_password }}"
        required
      >
    </div>

    <div class="mb-3">
      <label for="confirm_password" class="form-label">Confirm Password</label>
      <input
        type="text"
        class="form-control"
        id="confirm_password"
        name="confirm_password"
      >
      <div class="form-text">Optional if you keep the generated password unchanged.</div>
    </div>

    <button type="submit" class="btn btn-primary">Complete Registration</button>
  </form>
</div>
{% endblock %}
